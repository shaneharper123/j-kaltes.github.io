<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title></title>
	<meta name="generator" content="LibreOffice 7.5.0.3 (Linux)"/>
	<meta name="created" content="2022-03-03T15:02:35.013438506"/>
	<meta name="changed" content="2023-03-20T10:59:35.336393357"/>
	<style type="text/css">
		@page { margin: 0.79in }
		td p { line-height: 115%; margin-bottom: 0.1in; background: transparent }
		h1 { margin-bottom: 0.08in }
		h1.western { font-family: "Liberation Sans", sans-serif; font-size: 18pt }
		h1.cjk { font-family: "Noto Sans CJK SC"; font-size: 18pt }
		h1.ctl { font-family: "Mangal"; font-size: 18pt }
		p { margin-bottom: 0.1in }
		pre { background: transparent }
		pre.western { font-family: "Liberation Mono", monospace }
		pre.cjk { font-family: "Noto Sans Mono CJK SC", monospace }
		pre.ctl { font-family: "Liberation Mono", monospace }
	</style>
</head>
<body lang="en-US" dir="ltr"><p align="center" style="line-height: 100%; margin-top: 0.17in; margin-bottom: 0.08in; page-break-after: avoid">
<font face="Liberation Sans, sans-serif"><font size="6" style="font-size: 28pt"><b>Add
Watch</b></font></font></p>
<p style="line-height: 100%; margin-bottom: 0in">Making a new watch
app to receive glucose values from Juggluco can in different ways. To
display the most recent glucose values on a watch, it should be sent
to the watch immediately when it becomes available. Kerfstok works
this way. When using an xDrip web server, values are only sent to the
watch when the watch app asks for them.</p>
<h1 class="western">Modify Kerfstok</h1>
<p style="line-height: 100%; margin-bottom: 0in">The source of the
Garmin watch app <i>Kerfstok</i> can be downloaded from
<a href="https://www.juggluco.nl/Kerfstok/Kerfstok-source.html">https://www.juggluco.nl/Kerfstok/Kerfstok-source.html</a>
and you are allowed to modify it to satisfy your taste.</p>
<h1 class="western">Glucose broadcast</h1>
<p>Juggluco (4.1.5 and up) can send every minute a broadcast with the
current glucose value. Every Android app on the phone, whereupon it
is running, can receive that broadcast. This can be used to send this
glucose value to a smartwatch. <a href="glucosebroadcast.html">More
Information</a>.</p>
<p>The watch version of Juggluco can also send a broadcast. This
makes it possible to develop other watch faces for WearOS that can be
used independent of the phone.</p>
<h1 class="western">Add to Juggluco</h1>
<p style="line-height: 100%; margin-bottom: 0in">If you like to add
support for a watch to Juggluco you can do so. 
</p>
<p style="line-height: 100%; margin-bottom: 0in">You can supply the
following: 
</p>
<ul>
	<li><p style="line-height: 100%; margin-bottom: 0in">A static
	initialization procedure called at start of Juggluco. 
	</p>
	<li><p style="line-height: 100%; margin-bottom: 0in">A static
	function to be called very minute when a new glucose value arrives.
	The arguments of this function can be 
	</p>
	<ul>
		<li><p style="line-height: 100%; margin-bottom: 0in">Application, 
		</p>
		<li><p style="line-height: 100%; margin-bottom: 0in">Serial Number
		of sensor, 
		</p>
		<li><p style="line-height: 100%; margin-bottom: 0in">Glucose in
		mg/dL, 
		</p>
		<li><p style="line-height: 100%; margin-bottom: 0in">glucose in the
		unit set be the user (mg/dL or mmol/L), 
		</p>
		<li><p style="line-height: 100%; margin-bottom: 0in">the rate of
		change, 
		</p>
		<li><p style="line-height: 100%; margin-bottom: 0in">alarm
		indicator,</p>
		<li><p style="line-height: 100%; margin-bottom: 0in">time in msec
		since 1 January 1970 GMT. 
		</p>
	</ul>
</ul>
<p style="line-height: 100%; margin-bottom: 0in"><br/>

</p>
<p style="line-height: 100%; margin-bottom: 0in">The meaning of rate
of change:</p>
<table width="100%" cellpadding="0" cellspacing="0" style="background: transparent">
	<col width="128*"/>

	<col width="128*"/>

	<tr style="background: transparent" valign="top">
		<td width="50%" style="border: none; padding: 0in"><p><b>Abbott
			Librelink arrow </b>
			</p>
		</td>
		<td width="50%" style="border: none; padding: 0in"><p><b>Rate of
			change</b></p>
		</td>
	</tr>
	<tr valign="top">
		<td width="50%" style="border: none; padding: 0in"><p>Falling
			Quickly</p>
		</td>
		<td width="50%" style="border: none; padding: 0in"><p>&lt;=-2</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="50%" style="border: none; padding: 0in"><p>Falling</p>
		</td>
		<td width="50%" style="border: none; padding: 0in"><p>Between -2
			and -1</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="50%" style="border: none; padding: 0in"><p>Steady</p>
		</td>
		<td width="50%" style="border: none; padding: 0in"><p>-1 to 1</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="50%" style="border: none; padding: 0in"><p>Rising</p>
		</td>
		<td width="50%" style="border: none; padding: 0in"><p>1 to 2</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="50%" style="border: none; padding: 0in"><p>Rising
			Quickly</p>
		</td>
		<td width="50%" style="border: none; padding: 0in"><p>&gt;=2</p>
		</td>
	</tr>
</table>
<p style="line-height: 100%; margin-bottom: 0in">The meaning of the
alarm indicator:</p>
<table width="100%" cellpadding="0" cellspacing="0">
	<col width="128*"/>

	<col width="128*"/>

	<tr valign="top">
		<td width="50%" style="border: none; padding: 0in"><p><b>Alarm type</b></p>
		</td>
		<td width="50%" style="border: none; padding: 0in"><p><b>Value of
			alarm</b></p>
		</td>
	</tr>
	<tr valign="top">
		<td width="50%" style="border: none; padding: 0in"><p>Too high</p>
		</td>
		<td width="50%" style="border: none; padding: 0in"><p>6 (+8 if
			alarm should go off)</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="50%" style="border: none; padding: 0in"><p>Too low</p>
		</td>
		<td width="50%" style="border: none; padding: 0in"><p>7 (+8 if
			alarm should go off)</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="50%" style="border: none; padding: 0in"><p>Again a value
			after scanning impossible</p>
		</td>
		<td width="50%" style="border: none; padding: 0in"><p>3</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="50%" style="border: none; padding: 0in"><p>Above highest
			measurable e.g. 500 mg/dL</p>
		</td>
		<td width="50%" style="border: none; padding: 0in"><p>4 (+8 if
			alarm should go off)</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="50%" style="border: none; padding: 0in"><p>Below lowest
			measurable e.g. 40 mg/dL</p>
		</td>
		<td width="50%" style="border: none; padding: 0in"><p>5 (+8 if
			alarm should go off)</p>
		</td>
	</tr>
</table>
<p style="line-height: 100%; margin-bottom: 0in">You should test
yourself if you initialization was successful, before using the
glucose values.</p>
<p style="line-height: 100%; margin-bottom: 0in">You can also supply
a name to be used in settings to describe the watch and a short
description to be added to the help menu.</p>
<p style="line-height: 100%; margin-bottom: 0in">Example of defined
functions:</p>
<pre class="western">public class myclass {
static public void initmywatch(Application app);

static public void  glucosetowatch(Application app,String SerialNumber,int mgdl,float myunits,float rate,int alarm,long timemsec);
};
Both glucosetowatch doesn't run on the main thread.
If you need to run on the main thread, you can use:
static public void Applic.RunOnUiThread(Runnable action);
(All these functions are Java).</pre><p>
Send the code plus instruction what to do with it to
jaapkorthalsaltes@gmail.com. If I think the code is o.k. I will put
it in Juggluco and send you an apk of Juggluco with that code added.
If you test it o.k. I it will come in the next version of Juggluco at
Google Play.</p>
<h1 class="western">xDrip/Nightscout web server</h1>
<p style="line-height: 100%; margin-bottom: 0in">Juggluco
incorporates besides this a xDrip web server. The watch app will only
receive glucose value when it asks for them, so they are usually not
immediately shown when available. For more information of on the
webserver in Juggluco, see in Juggluco, Left menu-&gt;Settings-&gt;Web
server-&gt;Help and <a href="webserver.html">webserver.html</a></p>
<p style="line-height: 100%; margin-bottom: 0in"><br/>

</p>
</body>
</html>
